<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303988 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="472"/>

<div>
<span><div><span style="font-size: 21px;">node包管理npm: node package management</span></div><div>nodejs的包管理器，用于node插件管理（包括安装、卸载、管理依赖等）。</div><div>模块就是一些功能的封装，所以一些成熟的、经常使用的功能，都有人封装成为了模块。并且放到了社区中，供人免费下载。这个伟大的社区，叫做 npm，官网：<a href="https://www.npmjs.com/">https://www.npmjs.com/</a></div><div><br/></div><div>nodejs安装成功后，npm就安装成功了。</div><div>PS：如果要升级npm本身，只需npm install -g npm</div><div><br/></div><div><br/></div><div><span style="font-size: 21px;">安装包</span></div><div>格式：npm install &lt;name&gt; [-g] [--save-dev]</div><div><br/></div><div>1）本地安装：用npm安装一个包，安装的位置为命令提示符所在的当前目录node_modules</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>npm install packagename</div></div><div><br/></div><div>2）全局安装：-g（global）</div><div>用npm全局安装一个包，需要添加一个参数-g，安装的位置为当前用户下的%userprofile%\AppData\Roaming\npm\node_modules</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>npm install -g packagename</div></div><div>PS：全局安装可以通过命令行在任何地方调用它，本地安装通过require()调用</div><div><br/></div><div>3）保存包的信息到package.json：--save</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>npm install --save bootstrap</div></div><div>--save：将保存配置信息至package.json（项目配置文件）里的dependencies ；</div><div>-dev：开发依赖，保存至package.json的devDependencies节点 ，只在开发环境需要，生产环境不需要，如：gulp，不指定-dev将保存至dependencies节点；一般保存在dependencies的像这些express/ejs/body-parser等等。</div><div>PS：为什么要保存至package.json？因为node插件包相对来说非常庞大，所以不加入版本管理，将配置信息写入package.json并将其加入版本管理，其他开发者对应下载即可（命令提示符执行npm install，则会根据package.json下载所有需要的包，npm install --production只下载dependencies节点的包）。</div><div><br/></div><div>4）安装指定版本使用@</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>npm install packagename@version</div></div><div><br/></div><div><br/></div><div><span style="font-size: 21px;">卸载包</span></div><div>格式：npm uninstall &lt;name&gt; [-g] [--save-dev]</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="color: rgb(51, 51, 51);">npm uninstall bootstrap</span></div></div><div>PS：不要直接在资源管理器里删除本地插件包，而是通过npm uninstall来删除，参数使用与包安装一样</div><div><br/></div><div><br/></div><div><span style="font-size: 21px;">更新包</span></div><div>格式：npm update &lt;name&gt; [-g] [--save-dev]</div><div>更新全部插件：npm update [--save-dev]（不指定模块名）</div><div><br/></div><div><br/></div><div><span style="font-size: 21px;">其它命令</span></div><div>1）查看npm帮助：npm help</div><div>2）当前目录已安装插件：npm list</div><div>3）安装失败以后使用npm cache clean 清一下缓存，多安装几次试试。</div><div><br/></div><div><br/></div><div><span style="font-size: 21px;">初始化操作，给项目添加一个配置文件：package.json</span></div><div>用npm init 可以初始化一个 package.json文件，用回答问题的方式生成一个新的 package.json 文件</div><div>npm 也有文档，这是 package.json的介绍：<a href="https://docs.npmjs.com/files/package.json">https://docs.npmjs.com/files/package.json</a></div><div><br/></div><div><br/></div><div><span style="font-size: 21px;">npm配置文件</span></div><div>.npmrc</div><div><br/></div><div><br/></div><div><span style="font-size: 21px;">配置国内npm源（选装）</span></div><div>npm安装插件过程：从http://registry.npmjs.org下载对应的插件包（说明：npm安装插件是从国外服务器下载，受网络影响大，可能经常下载缓慢或出现异常）。</div><div>如果官方数据源太慢使用国内npm源（淘宝）:<a href="https://npm.taobao.org/">https://npm.taobao.org/</a>，这是一个完整 npmjs.org 镜像，你可以用此代替官方版本(只读)，同步频率目前为 10分钟 一次以保证尽量与官方服务同步。</div><div>安装：命令提示符执行</div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">npm install cnpm -g</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">//安装时，指定从淘宝镜像源安装（临时）</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">npm install cnpm -g --registry=https://registry.npm.taobao.org</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">//安装后把cnpm源改成淘宝镜像</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">cnpm config set registry </span></span></span><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">https://registry.npm.taobao.org</span></span></span></div></div><div>注意：</div><div>     1）安装完后最好查看其版本号cnpm -v或关闭命令提示符重新打开，安装完直接使用有可能会出现错误；</div><div>     2）cnpm跟npm用法完全一致，只是在执行命令时将npm改为cnpm</div><div><br/></div><div><br/></div><div><span style="font-size: 21px;">npm/cnpm默认配置</span></div><div>1）查看：npm config list</div><div>2）详细查看：npm config ls -l</div><div>3）取某个属性值：npm config get &lt;key&gt;     //config可省</div><div>4）设置某个值：npm config set &lt;key&gt; &lt;value&gt;    //config可省</div><div>5）删除某个值：npm config delete &lt;key&gt;</div><div>6）编辑所有：npm config edit</div><div><br/></div><div><br/></div><div><span style="font-size: 21px;">npm源管理</span></div><div>安装nrm</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>npm install -g nrm</div></div><div><br/></div><div>包含以下源：</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>//查看列表（默认npm）</div><div>nrm ls</div><div><br/></div><div>* npm ----- https://registry.npmjs.org/</div><div>  cnpm ---- http://r.cnpmjs.org/</div><div>  taobao -- https://registry.npm.taobao.org/</div><div>  nj ------ https://registry.nodejitsu.com/</div><div>  rednpm -- http://registry.mirror.cqupt.edu.cn</div><div>  skimdb -- https://skimdb.npmjs.com/registry</div></div><div><br/></div><div>nrm命令如下：</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>ls                           List all the registries</div><div>use &lt;registry&gt;               Change registry to registry</div><div>add &lt;registry&gt; &lt;url&gt; [home]  Add one custom registry</div><div>del &lt;registry&gt;               Delete one custom registry</div><div>home &lt;registry&gt; [browser]    Open the homepage of registry with optional browser</div><div>test [registry]              Show the response time for one or all registries</div><div>help                         Print this help</div><div><br/></div><div>Options:</div><div>-h, --help     output usage information</div><div>-V, --version  output the version number</div></div><div><br/></div><div><br/></div></span>
</div></body></html> 